<form class="wmc-block" action="javascript:;" method="post">

	<label class="nopad grid_12" for="feed-url"><?php echo $this->translate('Feed url'); ?></label>
	<input class="nopad grid_12" type="text" id="feed-url" value="" />

	<label class="nopad grid_5" for="feed-maxres"><?php echo $this->translate('Max. results'); ?></label>
	<input class="nopad grid_7" type="text" id="feed-maxres" value="<?php echo Widgets_Rss_Rss::RSS_RESULT_COUNT; ?>" />

	<label class="nopad grid_5" for="feed-maxch"><?php echo $this->translate('Max. chars.'); ?></label>
	<input class="nopad grid_7" type="text" id="feed-maxch" value="<?php echo Widgets_Rss_Rss::RSS_DESC_LENGTH; ?>" />

	<div><input class="formsubmit" type="submit" id="feed-done" name="done" value="Done" /></div>
</form>

<script type="text/javascript">
	$(function() {
		$('#feed-url').click(function() {$(this).removeClass('wmc-error');});
		$('#feed-done').click(function() {
			var feedUrl = $('#feed-url').val();
			if(!feedUrl) {
				$('#feed-url').toggleClass('wmc-error');
				return;
			}
			featuredWidget = '{$rss:' + feedUrl + ':' + $('#feed-maxres').val() + ':' + $('#feed-maxch').val() + '}';
			$('textarea.tinymce').tinymce().execCommand('mceInsertContent',false, featuredWidget);
		})
	});
</script>