<div class="header" style="overflow:hidden;"><?php echo $this->translate('Templates list'); ?></div>
<script type="text/javascript">
	$(function(){
		$('#lnk-back').click(function(){
			$('#templatelist').slideUp();
		})
	})
</script>
<div style="overflow-y: scroll;" class="h520">
<?php foreach ($this->templates as $template) : ?>
<div class="grid_2 template_item <?php echo ((isset($template['isCurrent']) && $template['isCurrent']) ? 'curr-template' : ''); ?>" title="<?php echo sprintf($this->translate('%s template'), $template['fullName']); ?>">
	<div class="template_preview">
		<div style="height:220px;">
			<img src="<?php echo $this->websiteUrl.$template['preview_image']; ?>" alt="<?php echo $template['name']; ?>" style="z-index:1;width:125px;"/>
		</div>
		<div class="template_name">
			<?php echo $template['name']; ?>
			<?php if (!in_array($template['name'], $this->protectedTemplates)): ?>
			<div class="template_delete"><img style="vertical-align:middle;" src="<?php echo $this->websiteUrl;?>/system/images/delete.png" alt="<?php echo $this->translate('Delete');?>" /></div>
			<?php endif; ?>
		</div>
		<?php echo $this->formHidden('template-id', $template['name'], array('id' => 'template-id-'.$template['name'])); ?>
	</div>
</div>
<?php endforeach; ?>
</div>